---
description: AAF æ¨¡å—ç‰ˆæœ¬æŸ¥æ‰¾è§„åˆ™ - åœ¨ dependencies é…ç½®ä¸­æŸ¥æ‰¾æ¨¡å—ç‰ˆæœ¬
alwaysApply: false
enabled: true
updatedAt: 2025-11-28T08:00:00.000Z
provider: 
---

# AAF æ¨¡å—ç‰ˆæœ¬æŸ¥æ‰¾è§„åˆ™

## ğŸ“– è§„åˆ™è¯´æ˜

æœ¬è§„åˆ™è¯´æ˜å¦‚ä½•æŸ¥æ‰¾ AAF æ¡†æ¶å„æ¨¡å—çš„æœ€æ–°å‘å¸ƒç‰ˆæœ¬ã€‚AAF é‡‡ç”¨é›†ä¸­å¼ä¾èµ–ç®¡ç†ï¼Œä¸åŒæ¨¡å—å¯èƒ½æœ‰ä¸åŒçš„ç‰ˆæœ¬å·ï¼Œéœ€è¦æ ¹æ® `artifactId` åœ¨å¯¹åº”çš„ dependencies é…ç½®æ–‡ä»¶ä¸­æŸ¥æ‰¾å®é™…ç‰ˆæœ¬ã€‚

---

## ğŸ¯ é€‚ç”¨åœºæ™¯

- å‡çº§ Sample ç¤ºä¾‹é¡¹ç›®æ—¶æŸ¥æ‰¾ä¾èµ–ç‰ˆæœ¬
- æ›´æ–°å¤–éƒ¨é¡¹ç›®çš„ AAF ä¾èµ–
- éªŒè¯æ¨¡å—å‘å¸ƒçŠ¶æ€
- æ£€æŸ¥ç‰ˆæœ¬å…¼å®¹æ€§

---

## ğŸ“‚ ç‰ˆæœ¬ä¿¡æ¯æ¥æº

### 1. AAF é¡¹ç›®é…ç½®æ–‡ä»¶

**ä½ç½®**: `/Volumes/Document/Documents/github/AndroidAppFactory/`

| æ–‡ä»¶ | è¯´æ˜ |
|-----|------|
| `dependencies.gradle` | ä¸»é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«é€šç”¨ç‰ˆæœ¬å· `ext.moduleVersionName` |
| `dependencies_lib.gradle` | Lib åŸºç¡€åº“æ¨¡å—ç‰ˆæœ¬é…ç½® |
| `dependencies_common.gradle` | Common å…¬å…±ç»„ä»¶æ¨¡å—ç‰ˆæœ¬é…ç½® |
| `dependencies_lock_widget.gradle` | é”å±ç»„ä»¶æ¨¡å—ç‰ˆæœ¬é…ç½® |
| `dependencies_tbs.gradle` | TBS ç›¸å…³æ¨¡å—ç‰ˆæœ¬é…ç½® |
| `dependencies_services.gradle` | æœåŠ¡ç»„ä»¶æ¨¡å—ç‰ˆæœ¬é…ç½® |
| `dependencies_asr.gradle` | ASR ç›¸å…³æ¨¡å—ç‰ˆæœ¬é…ç½® |
| `dependencies_deprecated.gradle` | å·²åºŸå¼ƒæ¨¡å—ç‰ˆæœ¬é…ç½® |
| `dependencies_aaf_config.gradle` | AAF é…ç½®ç›¸å…³æ¨¡å—ç‰ˆæœ¬ |

### 2. é€šç”¨ç‰ˆæœ¬å·

```gradle
// dependencies.gradle
ext.moduleVersionName = "8.0.0"
```

**è¯´æ˜**: 
- è¿™æ˜¯ AAF æ¡†æ¶çš„ä¸»ç‰ˆæœ¬å·
- å¤§éƒ¨åˆ†æ¨¡å—å‘å¸ƒæ—¶ä½¿ç”¨æ­¤ç‰ˆæœ¬
- ä½†å¹¶éæ‰€æœ‰æ¨¡å—éƒ½è·Ÿéšæ­¤ç‰ˆæœ¬æ›´æ–°

---

## ğŸ” ç‰ˆæœ¬æŸ¥æ‰¾æ–¹æ³•

### æ–¹æ³• 1: æ ¹æ® artifactId æŸ¥æ‰¾ç²¾ç¡®ç‰ˆæœ¬

**æ¨èä½¿ç”¨**ï¼šè¿™æ˜¯æœ€å‡†ç¡®çš„æ–¹æ³•

#### æ­¥éª¤ 1: è¯†åˆ« artifactId

ä» Maven ä¾èµ–å£°æ˜ä¸­æå– `artifactId`ï¼š

```gradle
com.bihe0832.android:common-debug:x.x.x
                     â†“
            artifactId = "common-debug"
```

#### æ­¥éª¤ 2: æœç´¢é…ç½®æ–‡ä»¶

åœ¨ AAF é¡¹ç›®çš„ `dependencies_*.gradle` æ–‡ä»¶ä¸­æœç´¢ï¼š

```bash
cd /Volumes/Document/Documents/github/AndroidAppFactory
grep -r '"artifactId".*:.*"common-debug"' dependencies_*.gradle
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
dependencies_common.gradle:    "artifactId" : "common-debug",
```

#### æ­¥éª¤ 3: è¯»å–å¯¹åº”ç‰ˆæœ¬

æ‰“å¼€æ‰¾åˆ°çš„é…ç½®æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å¯¹åº”æ¨¡å—å®šä¹‰ï¼š

```gradle
// dependencies_common.gradle
"CommonDebug" : [
    "version"    : "8.0.0",        â† ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬
    "artifactId" : "common-debug",
    "apidependenciesList" : [...]
]
```

#### æ­¥éª¤ 4: åº”ç”¨ç‰ˆæœ¬å·

```gradle
// å°†æŸ¥æ‰¾åˆ°çš„ç‰ˆæœ¬åº”ç”¨åˆ°ä¾èµ–å£°æ˜
api "com.bihe0832.android:common-debug:8.0.0"
```

---

### æ–¹æ³• 2: ä½¿ç”¨é€šç”¨ç‰ˆæœ¬å·

**é€‚ç”¨åœºæ™¯**: å½“æ— æ³•æ‰¾åˆ°æ¨¡å—å…·ä½“ç‰ˆæœ¬ï¼Œæˆ–ç¡®è®¤æ¨¡å—è·Ÿéšä¸»ç‰ˆæœ¬æ›´æ–°æ—¶ä½¿ç”¨

```gradle
// 1. è¯»å–é€šç”¨ç‰ˆæœ¬
ext.moduleVersionName = "8.0.0"

// 2. åº”ç”¨åˆ°ä¾èµ–
api "com.bihe0832.android:common-wrapper:8.0.0"
```

---

## ğŸ“‹ å¸¸ç”¨æ¨¡å—ç‰ˆæœ¬æ˜ å°„è¡¨

### Common ç³»åˆ—æ¨¡å—

| artifactId | é…ç½®æ–‡ä»¶ | æ¨¡å—å | é€šå¸¸ç‰ˆæœ¬ |
|-----------|---------|--------|---------|
| `common-wrapper` | `dependencies_common.gradle` | CommonWrapper | è·Ÿéšä¸»ç‰ˆæœ¬ |
| `common-wrapper-min` | `dependencies_common.gradle` | CommonWrapperMin | è·Ÿéšä¸»ç‰ˆæœ¬ |
| `common-wrapper-compose` | `dependencies_common.gradle` | CommonWrapperCompose | è·Ÿéšä¸»ç‰ˆæœ¬ |
| `common-debug` | `dependencies_common.gradle` | CommonDebug | è·Ÿéšä¸»ç‰ˆæœ¬ |
| `common-compose-debug` | `dependencies_common.gradle` | CommonDebugCompose | è·Ÿéšä¸»ç‰ˆæœ¬ |

### Lib ç³»åˆ—æ¨¡å—

| artifactId | é…ç½®æ–‡ä»¶ | æ¨¡å—å | é€šå¸¸ç‰ˆæœ¬ |
|-----------|---------|--------|---------|
| `lib-router-compiler` | `dependencies_lib.gradle` | RouterCompiler | **ç‹¬ç«‹ç‰ˆæœ¬** |
| `lib-download` | `dependencies_lib.gradle` | LibDownload | è·Ÿéšä¸»ç‰ˆæœ¬ |
| `lib-network` | `dependencies_lib.gradle` | LibNetwork | è·Ÿéšä¸»ç‰ˆæœ¬ |
| `lib-file` | `dependencies_lib.gradle` | LibFile | è·Ÿéšä¸»ç‰ˆæœ¬ |

**é‡è¦**: 
- âš ï¸ `lib-router-compiler` ç­‰ç¼–è¯‘å™¨æ¨¡å—é€šå¸¸**ä¸è·Ÿéšä¸»ç‰ˆæœ¬**æ›´æ–°
- âš ï¸ å¿…é¡»æŸ¥æ‰¾å…¶åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å®é™…ç‰ˆæœ¬

---

## âš ï¸ ç‰¹æ®Šæƒ…å†µå¤„ç†

### æƒ…å†µ 1: ç‰ˆæœ¬ä¸ä¸€è‡´

**ç°è±¡**: æ¨¡å—çš„ `version` å­—æ®µä¸ `ext.moduleVersionName` ä¸åŒ

**ç¤ºä¾‹**:
```gradle
// dependencies.gradle
ext.moduleVersionName = "8.0.0"

// dependencies_lib.gradle
"RouterCompiler" : [
    "version"    : "5.1.7",  // ä¸ä¸»ç‰ˆæœ¬ä¸åŒ
    "artifactId" : "lib-router-compiler",
]
```

**å¤„ç†**: ä½¿ç”¨æ¨¡å—å®é™…ç‰ˆæœ¬ `5.1.7`ï¼Œè€Œéä¸»ç‰ˆæœ¬ `8.0.0`

---

### æƒ…å†µ 2: Maven æœªå‘å¸ƒ

**ç°è±¡**: é…ç½®æ–‡ä»¶ä¸­æœ‰æ–°ç‰ˆæœ¬ï¼Œä½† Maven ä»“åº“æœªå‘å¸ƒ

**éªŒè¯æ–¹æ³•**:
```bash
# æ£€æŸ¥ Maven ä¸­å¤®ä»“åº“
curl -s "https://repo1.maven.org/maven2/com/bihe0832/android/lib-router-compiler/maven-metadata.xml" | grep "version"
```

**å¤„ç†**: ä½¿ç”¨ Maven ä¸Šå·²å‘å¸ƒçš„æœ€æ–°ç‰ˆæœ¬

---

### æƒ…å†µ 3: æ¨¡å—æ‰¾ä¸åˆ°

**ç°è±¡**: åœ¨æ‰€æœ‰ `dependencies_*.gradle` ä¸­éƒ½æ‰¾ä¸åˆ°å¯¹åº”çš„ `artifactId`

**å¯èƒ½åŸå› **:
1. æ¨¡å—å·²åºŸå¼ƒ - æ£€æŸ¥ `dependencies_deprecated.gradle`
2. å¤–éƒ¨ä¾èµ– - ä¸æ˜¯ AAF æ¨¡å—ï¼Œä½¿ç”¨å…¶è‡ªèº«ç‰ˆæœ¬
3. artifactId æ‹¼å†™é”™è¯¯

---

## ğŸ› ï¸ å®ç”¨å‘½ä»¤

### æŸ¥æ‰¾æ¨¡å—é…ç½®

```bash
# åœ¨æ‰€æœ‰é…ç½®æ–‡ä»¶ä¸­æŸ¥æ‰¾ artifactId
cd /Volumes/Document/Documents/github/AndroidAppFactory
grep -r '"artifactId".*:.*"æ¨¡å—å"' dependencies_*.gradle

# ç¤ºä¾‹ï¼šæŸ¥æ‰¾ common-debug
grep -r '"artifactId".*:.*"common-debug"' dependencies_*.gradle
```

### æå–ç‰ˆæœ¬å·

```bash
# æå–ç‰¹å®šæ¨¡å—çš„ç‰ˆæœ¬å·
grep -A 2 '"artifactId".*:.*"common-debug"' dependencies_*.gradle | grep version
```

### éªŒè¯ Maven å‘å¸ƒçŠ¶æ€

```bash
# æŸ¥çœ‹ Maven ä»“åº“ä¸­çš„æ‰€æœ‰ç‰ˆæœ¬
curl -s "https://repo1.maven.org/maven2/com/bihe0832/android/æ¨¡å—å/maven-metadata.xml" | grep version

# ç¤ºä¾‹ï¼šæŸ¥çœ‹ common-wrapper æ‰€æœ‰ç‰ˆæœ¬
curl -s "https://repo1.maven.org/maven2/com/bihe0832/android/common-wrapper/maven-metadata.xml" | grep version | tail -10
```

---

## ğŸ“ ç‰ˆæœ¬æŸ¥æ‰¾æµç¨‹å›¾

```
å¼€å§‹æŸ¥æ‰¾æ¨¡å—ç‰ˆæœ¬
    â†“
è¯†åˆ« artifactId
    â†“
åœ¨ dependencies_*.gradle ä¸­æœç´¢
    â†“
    â”œâ”€â†’ æ‰¾åˆ° â†’ è¯»å– version å­—æ®µ â†’ ä½¿ç”¨ç²¾ç¡®ç‰ˆæœ¬ âœ…
    â”‚
    â””â”€â†’ æœªæ‰¾åˆ° â†’ æ£€æŸ¥æ˜¯å¦ä¸ºå¤–éƒ¨ä¾èµ–
                  â†“
                  â”œâ”€â†’ æ˜¯å¤–éƒ¨ä¾èµ– â†’ ä½¿ç”¨å¤–éƒ¨ç‰ˆæœ¬
                  â”‚
                  â””â”€â†’ æ˜¯ AAF æ¨¡å— â†’ ä½¿ç”¨ ext.moduleVersionName
                                    â†“
                                éªŒè¯ Maven æ˜¯å¦å‘å¸ƒ
                                    â†“
                                    â”œâ”€â†’ å·²å‘å¸ƒ â†’ ä½¿ç”¨è¯¥ç‰ˆæœ¬ âœ…
                                    â”‚
                                    â””â”€â†’ æœªå‘å¸ƒ â†’ ä½¿ç”¨ Maven æœ€æ–°ç‰ˆ âš ï¸
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ä¼˜å…ˆçº§ç­–ç•¥

ä¾æ¬¡å°è¯•ä»¥ä¸‹æ–¹æ³•ï¼š

1. âœ… **æœ€ä¼˜**: ä» `dependencies_*.gradle` ä¸­æŸ¥æ‰¾æ¨¡å—å®é™…ç‰ˆæœ¬
2. âœ… **æ¬¡ä¼˜**: ä½¿ç”¨ `ext.moduleVersionName`
3. âœ… **ä¿åº•**: éªŒè¯ Maven å¹¶ä½¿ç”¨å·²å‘å¸ƒç‰ˆæœ¬

### 2. å‡çº§æ—¶çš„æ³¨æ„äº‹é¡¹

- ğŸ“Œ ä¸è¦å‡è®¾æ‰€æœ‰æ¨¡å—éƒ½æ˜¯åŒä¸€ç‰ˆæœ¬
- ğŸ“Œ ç¼–è¯‘å™¨ç±»æ¨¡å— (kapt) é€šå¸¸ç‹¬ç«‹æ›´æ–°
- ğŸ“Œ å‡çº§åéªŒè¯ Maven å‘å¸ƒçŠ¶æ€
- ğŸ“Œ è®°å½•ç‰ˆæœ¬ä¸ä¸€è‡´çš„æ¨¡å—

### 3. æ–‡æ¡£è®°å½•

å‡çº§æ—¶å»ºè®®è®°å½•ï¼š
```markdown
## ç‰ˆæœ¬ä½¿ç”¨æƒ…å†µ

- common-wrapper: 8.0.0 (è·Ÿéšä¸»ç‰ˆæœ¬)
- common-debug: 8.0.0 (è·Ÿéšä¸»ç‰ˆæœ¬)
- lib-router-compiler: 5.1.7 (ç‹¬ç«‹ç‰ˆæœ¬ï¼ŒMaven æœ€æ–°)
```

---

## ğŸ”— ç›¸å…³è§„åˆ™

- `aaf_cmd_sample_upgrade.mdc` - Sample é¡¹ç›®å‡çº§è§„åˆ™
- `aaf_dependency.mdc` - ä¾èµ–ç®¡ç†è§„èŒƒ
- `aaf_common.mdc` - AAF æ¡†æ¶é€šç”¨è§„èŒƒ
- `aaf_commands.mdc` - å‘½ä»¤ç´¢å¼•

---

## ğŸ“š å‚è€ƒèµ„æº

- AAF GitHub: https://github.com/bihe0832/AndroidAppFactory
- Maven ä¸­å¤®ä»“åº“: https://repo1.maven.org/maven2/com/bihe0832/android/
- AAF æ–‡æ¡£: AndroidAppFactory-Doc é¡¹ç›®
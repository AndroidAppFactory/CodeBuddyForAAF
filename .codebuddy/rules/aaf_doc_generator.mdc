---
description: AAF 模块文档生成规则 - 基于LibAAF模板生成简洁的模块文档
alwaysApply: false
enabled: true
updatedAt: 2025-11-07T07:18:01.308Z
provider: 
---

# AAF 模块文档生成规则

## 触发条件
当用户说"帮我整理一下 [模块名] 的文档"时，自动执行文档生成流程。

## 文档生成流程
1. **分析目标模块**
   - 扫描模块源码结构
   - 识别主要功能和类
   - 提取关键API和方法

2. **参考文档模板**
   - 使用 LibAAF 文档格式作为模板
   - 保持简洁风格，避免过度详细

3. **生成文档内容**
   - 按照标准格式组织内容
   - 重点突出核心功能
   - 提供基本使用示例

4. **更新SUMMARY.md索引**
   - 根据模块类型确定在SUMMARY.md中的位置
   - 添加新文档的索引条目
   - 保持索引结构的一致性

## 文档标准格式
基于 `lib-aaf-tools.md` 的格式：

```markdown
# [模块名]

![模块名](https://img.shields.io/badge/AndroidAppFactory-[模块名]-brightgreen)
[ ![Github](https://img.shields.io/badge/Github-[模块名]-brightgreen?style=social) ](https://github.com/bihe0832/AndroidAppFactory/tree/master/[模块目录])
[ ![Maven Central](https://img.shields.io/maven-central/v/com.bihe0832.android/[maven-artifact]) ](https://search.maven.org/artifact/com.bihe0832.android/[maven-artifact])

## 功能简介

[简洁描述模块主要功能]
 
## 组件信息

#### 引用仓库

引用仓库可以参考 [组件使用](./../start.md) 中添加依赖的部分

#### 组件使用

\```groovy
implementation 'com.bihe0832.android:[maven-artifact]:+'
\```

## 组件功能

### [主要功能类1]

- [功能描述]

### [主要功能类2]

- [功能描述]

[如有必要，添加简单的代码示例]
```

## SUMMARY.md索引规则

### 模块分类和索引位置
根据模块类型，在SUMMARY.md中的不同位置添加索引：

1. **基础功能模块** (`lib-*`)
   - 位置：`* [组件使用]() > * [基础组件信息]() > * [基础功能]()`
   - 格式：`* [模块名](use/libs/noui/模块名.md)`

2. **UI相关模块** (`lib-*` 但包含UI组件)
   - 位置：`* [组件使用]() > * [基础组件信息]() > * [UI相关]()`
   - 格式：`* [模块名](use/libs/ui/模块名.md)`

3. **公共组件** (`common-*`)
   - 位置：`* [组件使用]() > * [公共组件信息]() > * [公共组件]()`
   - 格式：`* [模块名](use/common/模块名.md)`

4. **三方组件** (`services-*`)
   - 位置：`* [组件使用]() > * [三方组件信息]() > * [三方组件]()`
   - 格式：`* [模块名](use/services/模块名.md)`

5. **路由组件** (`lib-router*`)
   - 位置：`* [组件使用]() > * [路由组件信息]()`
   - 格式：`* [模块名](use/router/模块名.md)`

### 索引插入规则
- 在对应分类下按照AAF项目dependencies文件中的模块定义顺序插入
- 保持现有格式和缩进
- 确保路径正确对应文档位置
- **必须先向用户提供建议的插入位置，经用户确认后再执行插入操作**
- 参考AAF项目中dependencies.gradle的加载顺序来确定新文档的插入位置：
  1. dependencies_lib.gradle (基础lib模块)
  2. dependencies_common.gradle (公共组件)
  3. dependencies_lock_widget.gradle (锁屏组件)
  4. dependencies_tbs.gradle (TBS相关)
  5. dependencies_services.gradle (三方服务)
  6. dependencies_asr.gradle (语音识别相关)
  7. dependencies_deprecated.gradle (计划废弃组件)

## 文档编写原则
1. **简洁为主**: 内容精炼，避免冗长说明
2. **突出重点**: 重点介绍核心功能和主要API
3. **统一格式**: 严格按照模板格式编写
4. **实用导向**: 重点说明如何使用，而非实现细节

## 完整执行流程
1. 生成完整的markdown文档
2. 确定文档在AndroidAppFactory-Doc中的正确路径
3. 根据模块类型确定在SUMMARY.md中的插入位置
4. **向用户确认SUMMARY.md索引的插入位置**
5. 用户确认后，在SUMMARY.md中添加对应索引
6. 验证索引链接的正确性

## 输出要求
- 生成完整的markdown文档
- 文件名格式：直接使用 `[maven-artifact].md`（如：`lib-aaf-tools.md`、`common-audio-wave.md`）
- 内容控制在合理篇幅内（通常不超过200行）
- 确保所有链接和引用正确
- **必须向用户确认SUMMARY.md索引的插入位置后再添加**
- **禁止未经用户确认直接修改SUMMARY.md文件**
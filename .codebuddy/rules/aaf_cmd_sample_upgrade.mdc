---
description: AAF Sample é¡¹ç›®å‡çº§è§„åˆ™ - è‡ªåŠ¨åŒæ­¥ç¤ºä¾‹é¡¹ç›®çš„ AAF ç‰ˆæœ¬å’Œç¼–è¯‘é…ç½®
alwaysApply: false
enabled: true
updatedAt: 2025-11-27T12:00:00.000Z
provider: 
---

# AAF Sample é¡¹ç›®å‡çº§è§„åˆ™

## ğŸ“– è§„åˆ™è¯´æ˜

æœ¬è§„åˆ™ç”¨äºè‡ªåŠ¨å‡çº§ Template_Android å’Œ Template-AAF ç¤ºä¾‹é¡¹ç›®çš„ AAF æ¡†æ¶ç‰ˆæœ¬å’Œç¼–è¯‘é…ç½®ï¼Œç¡®ä¿ç¤ºä¾‹é¡¹ç›®ä¸ AAF ä¸»é¡¹ç›®ä¿æŒåŒæ­¥ã€‚

**é¡¹ç›®è¯´æ˜**ï¼š
- **Template_Android** - æä¾›ç»™å¤–éƒ¨å¼€å‘è€…çš„åŸºç¡€ Android é¡¹ç›®ç¤ºä¾‹
- **Template-AAF** - æä¾›ç»™å¤–éƒ¨å¼€å‘è€…çš„ AAF æ¡†æ¶é›†æˆç¤ºä¾‹
- **ä½œç”¨** - å±•ç¤º AAF æ¡†æ¶çš„æœ€ä½³å®è·µå’Œæ ‡å‡†ç”¨æ³•
- **æ¦‚å¿µåŒºåˆ†** - Sample vs Demo çš„è¯¦ç»†è¯´æ˜å‚è§ `aaf_common.mdc`

---

## ğŸ¯ è§¦å‘æ¡ä»¶

å½“ç”¨æˆ·è¯´å‡ºä»¥ä¸‹å…³é”®è¯æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œæœ¬è§„åˆ™ï¼š
- "å‡çº§sample"
- "å‡çº§Sample"
- "æ›´æ–°sampleç‰ˆæœ¬"
- "åŒæ­¥sampleé…ç½®"
- "å‡çº§ç¤ºä¾‹é¡¹ç›®"
- "æ›´æ–°Template"

---

## ğŸ“‚ æ¶‰åŠé¡¹ç›®å’Œæ–‡ä»¶

### 1. AndroidAppFactoryï¼ˆé…ç½®æºï¼‰
- **æ–‡ä»¶**: `config.gradle`
  - è¯»å– SDK ç‰ˆæœ¬é…ç½®ï¼š`compileSdkVersion`, `buildToolsVersion`, `libMinSdkVersion`, `targetSdkVersion`
- **æ–‡ä»¶**: `dependencies.gradle`
  - è¯»å– AAF ç‰ˆæœ¬å·ï¼š`ext.moduleVersionName`

### 2. Template_Androidï¼ˆæ›´æ–°ç›®æ ‡ï¼‰
- **æ–‡ä»¶**: `config.gradle`
  - æ›´æ–°ï¼š`compileSdkVersion`, `buildToolsVersion`, `libMinSdkVersion`, `targetSdkVersion`
- **æ–‡ä»¶**: `Application/build.gradle`
  - æ›´æ–°ï¼šæ‰€æœ‰ `com.bihe0832.android:xxx:x.x.x` ä¾èµ–ç‰ˆæœ¬

### 3. Template-AAFï¼ˆæ›´æ–°ç›®æ ‡ï¼‰
- **æ–‡ä»¶**: `config.gradle`
  - æ›´æ–°ï¼š`compileSdkVersion`, `buildToolsVersion`, `libMinSdkVersion`, `targetSdkVersion`
- **æ–‡ä»¶**: `dependencies.gradle`
  - æ›´æ–°ï¼šæ‰€æœ‰ `com.bihe0832.android:xxx:x.x.x` ä¾èµ–ç‰ˆæœ¬

---

## âš™ï¸ æ‰§è¡Œæµç¨‹

### æ­¥éª¤ 1: è¯»å– AAF æœ€æ–°é…ç½®

```bash
# 1.1 è¯»å– AAF ç‰ˆæœ¬å·
cd /Volumes/Document/Documents/github/AndroidAppFactory
AAF_VERSION=$(grep "ext.moduleVersionName" dependencies.gradle | grep -o '".*"' | tr -d '"')

# 1.2 è¯»å– SDK é…ç½®
COMPILE_SDK=$(grep "compileSdkVersion = " config.gradle | grep -o '[0-9]*')
BUILD_TOOLS=$(grep "buildToolsVersion = " config.gradle | grep -o '".*"' | tr -d '"')
LIB_MIN_SDK=$(grep "libMinSdkVersion = " config.gradle | grep -o '[0-9]*')
TARGET_SDK=$(grep "targetSdkVersion = " config.gradle | grep -o '[0-9]*')
```

### æ­¥éª¤ 2: æ›´æ–° Template_Android

```bash
cd /Volumes/Document/Documents/github/Template_Android

# 2.1 æ›´æ–° config.gradle
# - compileSdkVersion
# - buildToolsVersion
# - libMinSdkVersion
# - targetSdkVersion

# 2.2 æ›´æ–° Application/build.gradle
# - com.bihe0832.android:common-wrapper:x.x.x â†’ AAF_VERSION
# - com.bihe0832.android:lib-router-compiler:x.x.x â†’ AAF_VERSION
```

### æ­¥éª¤ 3: æ›´æ–° Template-AAF

```bash
cd /Volumes/Document/Documents/github/Template-AAF

# 3.1 æ›´æ–° config.gradle
# - compileSdkVersion
# - buildToolsVersion
# - libMinSdkVersion
# - targetSdkVersion

# 3.2 æ›´æ–° dependencies.gradle
# - æ‰€æœ‰ com.bihe0832.android:xxx:x.x.x â†’ AAF_VERSION
```

### æ­¥éª¤ 4: ç”Ÿæˆå˜æ›´æŠ¥å‘Š

è¾“å‡ºæ ¼å¼ï¼š
```
âœ… AAF æœ€æ–°é…ç½®
   ç‰ˆæœ¬å·: 8.0.0
   compileSdkVersion: 34
   buildToolsVersion: 34.0.0
   libMinSdkVersion: 23
   targetSdkVersion: 31

ğŸ“¦ Template_Androidï¼ˆåŸºç¡€ç¤ºä¾‹ï¼‰å˜æ›´
   config.gradle:
   - compileSdkVersion: 32 â†’ 34
   - buildToolsVersion: 32.0.0 â†’ 34.0.0
   - libMinSdkVersion: 16 â†’ 23
   - targetSdkVersion: 30 â†’ 31
   
   Application/build.gradle:
   - common-wrapper: 6.21.9 â†’ 8.0.0
   - lib-router-compiler: 5.1.7 â†’ 8.0.0

ğŸ“¦ Template-AAFï¼ˆæ¡†æ¶é›†æˆç¤ºä¾‹ï¼‰å˜æ›´
   config.gradle:
   - compileSdkVersion: 32 â†’ 34
   - buildToolsVersion: 32.0.0 â†’ 34.0.0
   - libMinSdkVersion: 16 â†’ 23
   - targetSdkVersion: 30 â†’ 31
   
   dependencies.gradle:
   - common-wrapper: 6.21.9 â†’ 8.0.0
   - common-debug: 6.21.12 â†’ 8.0.0
   - lib-router-compiler: 5.1.7 â†’ 8.0.0
```

### æ­¥éª¤ 5: æä¾›æäº¤å»ºè®®

```bash
# Template_Android æäº¤
cd /Volumes/Document/Documents/github/Template_Android
git add config.gradle Application/build.gradle
git commit -m "chore(sample): å‡çº§ AAF åˆ° 8.0.0 å¹¶åŒæ­¥ç¼–è¯‘é…ç½®

- å‡çº§ AAF ä¾èµ–åˆ° 8.0.0
- åŒæ­¥ç¼–è¯‘é…ç½®ï¼ˆSDK 34, minSdk 23, targetSdk 31ï¼‰
"

# Template-AAF æäº¤
cd /Volumes/Document/Documents/github/Template-AAF
git add config.gradle dependencies.gradle
git commit -m "chore(sample): å‡çº§ AAF åˆ° 8.0.0 å¹¶åŒæ­¥ç¼–è¯‘é…ç½®

- å‡çº§ AAF ä¾èµ–åˆ° 8.0.0
- åŒæ­¥ç¼–è¯‘é…ç½®ï¼ˆSDK 34, minSdk 23, targetSdk 31ï¼‰
"
```

---

## ğŸ” éœ€è¦åŒæ­¥çš„é…ç½®é¡¹

### config.gradle é…ç½®é¡¹

| é…ç½®é¡¹ | è¯´æ˜ | AAF å½“å‰å€¼ |
|--------|------|-----------|
| `compileSdkVersion` | Android ç¼–è¯‘ SDK ç‰ˆæœ¬ | 34 |
| `buildToolsVersion` | Android ç¼–è¯‘å·¥å…·ç‰ˆæœ¬ | 34.0.0 |
| `libMinSdkVersion` | Lib æœ€ä½é€‚é… Android ç‰ˆæœ¬ | 23 |
| `targetSdkVersion` | Android æœ€ä½³é€‚é…ç‰ˆæœ¬ | 31 |

**æ³¨æ„**ï¼šä»¥ä¸‹é…ç½®ä¸éœ€è¦åŒæ­¥ï¼ˆä¿æŒ Template é¡¹ç›®åŸæœ‰å€¼ï¼‰
- `versionCode` - Demo é¡¹ç›®ç‰ˆæœ¬å·
- `versionName` - Demo é¡¹ç›®ç‰ˆæœ¬å
- `signingConfigs` - ç­¾åé…ç½®ï¼ˆä½¿ç”¨ debug.keystoreï¼‰
- `kotlin_version` - Kotlin ç‰ˆæœ¬ï¼ˆå¯é€‰åŒæ­¥ï¼‰

### dependencies ä¾èµ–ç‰ˆæœ¬

æ‰€æœ‰ `com.bihe0832.android:xxx` å¼€å¤´çš„ä¾èµ–éƒ½éœ€è¦æ›´æ–°åˆ° AAF æœ€æ–°ç‰ˆæœ¬ã€‚

**å¸¸è§ä¾èµ–**ï¼š
- `com.bihe0832.android:common-wrapper`
- `com.bihe0832.android:common-debug`
- `com.bihe0832.android:lib-router-compiler`
- å…¶ä»–æ‰€æœ‰ AAF æ¡†æ¶ä¾èµ–

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç­¾åé…ç½®ä¿æŒä¸å˜
Template é¡¹ç›®ä½¿ç”¨ `debug.keystore`ï¼Œä¸è¦ä¿®æ”¹ä¸º AAF çš„ç­¾åé…ç½®ã€‚

### 2. ç‰ˆæœ¬å·ä¸åŒæ­¥
ç¤ºä¾‹é¡¹ç›®çš„ `versionCode` å’Œ `versionName` ä¿æŒç‹¬ç«‹ï¼Œä¸éš AAF ç‰ˆæœ¬æ›´æ–°ã€‚

### 3. æ£€æŸ¥å…¼å®¹æ€§
å‡çº§ SDK ç‰ˆæœ¬åï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥ï¼š
- Gradle ç‰ˆæœ¬å…¼å®¹æ€§
- Kotlin ç‰ˆæœ¬å…¼å®¹æ€§
- ä¾èµ–åº“çš„å…¼å®¹æ€§

### 4. åˆ†åˆ«æäº¤
ä¸¤ä¸ªç¤ºä¾‹é¡¹ç›®åº”è¯¥åˆ†åˆ«æäº¤ï¼Œä¸è¦åˆå¹¶æäº¤ã€‚

### 5. é¡¹ç›®å‡çº§é‡ç‚¹
- **Template_Android** - åŸºç¡€ç¤ºä¾‹ï¼Œå±•ç¤ºæœ€ç®€å•çš„ AAF é›†æˆæ–¹å¼
- **Template-AAF** - å®Œæ•´ç¤ºä¾‹ï¼Œå±•ç¤º AAF æ¡†æ¶çš„å®Œæ•´åŠŸèƒ½å’Œæœ€ä½³å®è·µ
- **å…±åŒè¦æ±‚**ï¼šä¿æŒæœ€æ–°ç‰ˆæœ¬ï¼Œå±•ç¤ºæœ€ä½³å®è·µï¼Œä¾›å¤–éƒ¨å¼€å‘è€…å‚è€ƒ
- **æ¦‚å¿µè¯´æ˜**ï¼šSample vs Demo çš„è¯¦ç»†åŒºåˆ†å‚è§ `aaf_common.mdc` ç¬¬ 1.2 èŠ‚

---

## ğŸ“ æ‰§è¡Œæ¸…å•

æ‰§è¡Œå‡çº§æ—¶ï¼Œç¡®è®¤ä»¥ä¸‹æ­¥éª¤ï¼š

- [ ] è¯»å– AAF æœ€æ–°ç‰ˆæœ¬å·
- [ ] è¯»å– AAF SDK é…ç½®
- [ ] æ›´æ–° Template_Android/config.gradle
- [ ] æ›´æ–° Template_Android/Application/build.gradle
- [ ] æ›´æ–° Template-AAF/config.gradle
- [ ] æ›´æ–° Template-AAF/dependencies.gradle
- [ ] ç”Ÿæˆå˜æ›´æŠ¥å‘Š
- [ ] æä¾›æäº¤å»ºè®®
- [ ] ç¡®è®¤æ‰€æœ‰å˜æ›´æ— è¯¯

---

## ğŸ”— ç›¸å…³è§„åˆ™

- `aaf_commands.mdc` - å‘½ä»¤ç´¢å¼•
- `aaf_common.mdc` - AAF æ¡†æ¶é€šç”¨è§„èŒƒ
- `aaf_dependency.mdc` - ä¾èµ–ç®¡ç†è§„èŒƒ
